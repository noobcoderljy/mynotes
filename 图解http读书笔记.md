# web及网络基础

## 网络基础TCP/IP
通常使用的网络(包括互联网)是在tcp/ip 协议族的基础上运作的.而http属于它内部的一个子集.  

计算机与网络设备要相互通信,双方就必须基于相同的方法.这样就形成了各种各样的协议,像这样吧互联网相关的协议集合起来总称为TCP/IP.  TCP/IP协议族分为四层,分别为:  
* 应用层 
* 传输层
* 网络层
* 链路层  

应用层决定了向用户提供应用服务时通信的活动.ftp与dns就是其中的应用服务. 

传输层对上层的应用层提供处于网络连接中的两台计算机的数据传输.在传输层有两个性质不同的协议:tcp协议与udp协议.
 
网络层用来处理网络上流动的数据包.数据包是网络传输的最小数据单位.该层规定通过怎样的路径到达对方计算机,并且把数据包传输给对方.与对方计算机之间通过多台计算机或者网络设备进行传输时,网络层所起到的作用就是在众多的选项中选择一条传输路线.  

链路层用来处理链接网络的硬件部分,包括控制操作系统,硬件的设备驱动,网卡,及光纤等物理可见部分.硬件上的范畴均在链路层的作用范围内.  

## 与http相关密切的协议: IP、TCP和DNS
### 负责传输的IP协议
**IP**: ip协议处于网络层,负责传输.ip协议的作用是负责把各种数据包传输给对方.而且要确保确实传送到对方那里,则需要满足各种各类条件.其中两个重要的条件是ip地址与mac地址. 

ip地址指明了节点被分配的地址,mac地址之网卡所属的固定地址.IP地址与mac地址可以进行配对.IP地址可以变换但mac地址基本不会变.  

ip间的通信依赖mac地址,在网络上,通信的双方在通一局域网的情况是很少的,通常经过多台计算机和网络设备的中转才能连接到对方.而且在进行中转时,会利用下一站中转设备的mac地址来搜索下一个中转目标.这是,会采用ARP协议.ARP协议可以根据IP地址查找到对应的MAC地址.

### 确保可靠的TCP协议
**TCP**" TCP协议按层划分处于传输层,提供可靠的字节流服务.  
- 字节流服务(byte stream service)指为了方便传输,将大块数据切割成以报文段为单位的数据包进行管理.
- 可靠则是指能够把数据准确可靠的传给对方.  

总之TCP协议为了为了更容易传输大数据会把数据分割,并且能够确定数据是否送达对方.

为了准确无误的将数据送达目标,TCP协议才用了三次握手.TCP协议中,握手采用了tcp的标志-----SYN与ACK标志.发送端首先发送一个带有SYN的数据包给对方,接收端收到后,回传一个带有SYN/ACK标志的数据包以表示传达确认信息.最后发送端在发送一个带有ACK标志的数据包代表握手结束.如果某个阶段莫名中断,TCP协议会在此以相同顺序发送相同的数据包.

### 负责域名解析的DNS服务
DNS服务位于应用层.它提供域名到IP地址之间的解析服务.  
计算机可以被赋予IP地址,也可以被赋予主机名和域名.方便人类的记忆习惯,但计算机更擅长处理数字.DNS协议提供通过域名查找IP地址或者通过IP地址解析域名的服务.  

## uri与url
uri(uniform resource identity)统一资源标识符  
url(uniform resource locator)同意资源定位符  
URI用字符串标识某一互联网资源,而URL表示资源的地点.可见URL是URI的一个子集.  
uri的常用格式为:http://user:pass@www.example.com:80/dir/index.html?uid=1#ch1
# 简单的http协议
## http协议用于客户端与服务端之间的通信
http协议与TCP/IP协议相同,用于 客户端与服务器之间的通信.  
请求访问资源的异端称为客户端,而提供资源的一端称为服务器端.  

http请求报文由请求方法 请求uri 协议版本 可选择的请求首部字段 内容实体组成  
post /form/entry http/2.1
host:hackr.jp 首部字段
name=ueno&age=37 内筒实体

http响应报文由版本协议 状态码 原因短语 首部字段 接着以一行空格 之后的内容成为资源主体(entity body)组成

http是一种不保存状态,即无状态协议.http协议自身不对任何请求和响应之间的通信状态进行保存.为了实现保存状态的某些功能,引进了cookie技术.

## 请求uri定位资源
http协议使用uri定位互联网资源 当客户端发送请求报文时,uri需要作为请求报文中的uri包含在内.请求uri的方式很多.
1. uri为完整的请求uri  
```
get http://www.runoob.com/index.html http/1.1
```
2. 在首部字段host中填写域名或者ip地址
```
get /index.html http/1.1
host: www.runoob.com
```
3. 不是访问资源而是对服务器本身发起请求,可以用一个*来代替uri
```
options * http/1.1
```

## http中的请求方法
方法|说明|版本号
----|----|----
GET|访问资源|1.0 1.1
POST|传输实体主体|1.0 1.1
PUT|传输文件|1.0 1.1
HEAD|获得响应头部|1.0 1.1
DELETE|删除文件|1.0 1.1
OPTION|询问支持的方法|1.1
TRACE|追踪路径|1.1
CONNECT|要求使用隧道协议连接代理|1,1
LINK|建立和资源之间的联系|1.0
UNLINK|断开联系|1.0

## 